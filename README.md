# MacroDemo

## 前言

> 预处理是文件编译过程的第一步，相当于在编译之前先对源文件进行处理，预处理主要是处理以`#`开头的命令。主要包括#import头文件，以及一些`#`开头的命令。

> 所谓`宏定义`，就是用一个标识符来表示一个字符串。

> 宏定义的一般形式为:

```
#define 宏名 字符串
```

> `#`表示这是一条预处理命令，所有的预处理命令都以`#`开头。`宏名`是标识符的一种，命名规则和变量相同。`字符串`可以是数字、表达式、if语句、函数等。 

* 对#define 用法的几点说明

    -  宏定义是用宏名来表示一个字符串，在宏展开时又以该字符串取代宏名，这只是一种简单粗暴的替换。字符串中可以含任何字符，它可以是常数、表达式、if 语句、函数等，预处理程序对它不作任何检查，如有错误，只能在编译已被宏展开后的源程序时发现。
    
    - 宏定义不是说明或语句，在行末不必加分号，如加上分号则连分号也一起替换。
    
    - 宏定义必须写在函数之外，其作用域为宏定义命令起到源程序结束。如要终止其作用域可使用`#undef`命令。
    
    - 代码中的宏名如果被引号包围，那么预处理程序不对其作宏代替
    
    - 宏定义允许嵌套，在宏定义的字符串中可以使用已经定义的宏名，在宏展开时由预处理程序层层代换。
    
    - 习惯上宏名用大写字母表示，以便于与变量区别。但也允许用小写字母。
    
    - 可用宏定义表示数据类型，使书写方便。

## C语言的预处理命令

```
#define 定义一个预处理宏
#undef  取消宏的定义

#if     编译预处理中的条件命令，相当于C语法中的if语句
#ifdef  判断某个宏是否被定义，若已定义，执行随后的语句
#ifndef 与#ifdef相反，判断某个宏是否未被定义
```
